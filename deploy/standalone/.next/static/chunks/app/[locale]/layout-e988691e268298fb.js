(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{33945:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var l=r(69341),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=l.createContext&&l.createContext(n),s=["attr","size","title"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var l,n,o;l=e,n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in l?Object.defineProperty(l,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>l.createElement(u,a({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>l.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:n,size:o,title:i}=e,d=function(e,t){if(null==e)return{};var r,l,n=function(e,t){if(null==e)return{};var r={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)r=o[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,s),u=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),l.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&l.createElement("title",null,i),e.children)};return void 0!==o?l.createElement(o.Consumer,null,e=>t(e)):t(n)}},40712:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var l=r(66505),n=r(69341);function o(){let[e,t]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=()=>{let e=window.scrollY,r=document.documentElement.scrollHeight-window.innerHeight;t(Math.min(100*(r>0?e/r:0),100))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,height:"4px",backgroundColor:"#3762e3",width:`${e}vw`,transition:"width 0.05s linear",zIndex:9999}})}},49278:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var l=r(66505),n=r(60554),o=r.n(n),s=r(66887),a=r(69341);function i({currentLocale:e}){let t=(0,s.useRouter)(),r=(0,s.usePathname)(),[n,o]=(0,a.useState)(!1),i=["en","zh"],c=(0,a.useMemo)(()=>e&&"string"==typeof e&&i.includes(e)?e:"en",[e,i]),d={en:"English",zh:"中文"},u=e=>{let l=new Date;l.setTime(l.getTime()+2592e6);let n=l.toUTCString();document.cookie=`NEXT_LOCALE=${e};expires=${n};path=/`;let s=r.split("/");s[1]=e;let a=s.join("/");t.push(a),o(!1)};return(0,l.jsxs)("div",{className:"relative inline-block text-left",children:[(0,l.jsxs)("button",{onClick:()=>o(!n),className:"inline-flex items-center space-x-2 rounded-lg bg-gradient-to-r from-indigo-500 via-purple-600 to-pink-500 px-4 py-2 font-semibold text-white shadow-[0_0_15px_rgba(139,92,246,0.7)] hover:shadow-[0_0_25px_rgba(139,92,246,0.9)] transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2","aria-haspopup":"true","aria-expanded":n,children:[(0,l.jsx)("span",{className:"text-xl select-none",children:"\uD83C\uDF10"}),(0,l.jsx)("span",{className:"select-none",children:d[c]||c}),(0,l.jsx)("svg",{className:`w-5 h-5 text-white transition-transform duration-300 ${n?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1),"aria-hidden":"true"}),(0,l.jsx)("div",{className:"absolute right-0 mt-2 w-36 rounded-lg bg-black/60 backdrop-blur-md border border-purple-700 shadow-lg z-20 ring-1 ring-purple-500 ring-opacity-30 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"language-switcher",children:i.map(e=>(0,l.jsx)("button",{onClick:()=>u(e),disabled:e===c,className:`w-full px-4 py-2 text-left text-sm font-medium rounded-md transition-colors
                  ${e===c?"bg-purple-700 text-white cursor-default shadow-[0_0_10px_rgba(139,92,246,0.8)]":"text-purple-300 hover:bg-purple-600 hover:text-white"}`,role:"menuitem",children:d[e]},e))})]})]})}var c=r(28818),d=r(12446);function u({posts:e=[],onClose:t}){let[r,n]=(0,a.useState)(""),s=(0,a.useRef)(null);(0,a.useEffect)(()=>{s.current?.focus()},[]);let i=(0,a.useRef)(null);(0,a.useEffect)(()=>{function e(e){i.current&&!i.current.contains(e.target)&&t()}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[t]);let u=(0,a.useMemo)(()=>{if(!r.trim())return e;let t=r.trim().toLowerCase();return e.filter(e=>e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.content&&e.content.toLowerCase().includes(t)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(t)))},[r,e]);return(0,l.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-start justify-center bg-black/40 backdrop-blur-sm",children:(0,l.jsxs)("div",{ref:i,className:" w-full max-w-2xl mt-8 sm:mt-24 mx-auto rounded-2xl  bg-slate-900/90 backdrop-blur-lg shadow-2xl p-6 relative border border-slate-700  max-h-[90vh] flex flex-col overflow-x-hidden ",style:{minHeight:"300px"},children:[(0,l.jsx)("button",{className:"absolute top-4 right-4 text-slate-400 hover:text-white text-2xl",onClick:t,"aria-label":"关闭",children:(0,l.jsx)(c.yGN,{})}),(0,l.jsxs)("div",{className:"flex items-center mb-6 px-2",children:[(0,l.jsx)(c.CKj,{className:"text-slate-400 w-6 h-6 mr-2"}),(0,l.jsx)("input",{ref:s,value:r,onChange:e=>n(e.target.value),placeholder:"输入关键词搜索文章…",className:"flex-1 bg-transparent outline-none text-white placeholder-slate-400 text-lg",style:{minWidth:0}})]}),(0,l.jsxs)("div",{className:" flex-1 overflow-y-auto overflow-x-hidden space-y-3 pb-2 scrollbar-thin scrollbar-thumb-rounded-full scrollbar-thumb-cyan-400/70 scrollbar-track-transparent hover:scrollbar-thumb-cyan-300/90 transition-all ",children:[0===u.length&&(0,l.jsx)("div",{className:"text-slate-400 text-center py-10",children:"没有找到相关内容"}),u.map(e=>(0,l.jsxs)(o(),{href:`/blog/${e.slug}`,onClick:t,className:" block rounded-2xl overflow-hidden bg-slate-800/80 backdrop-blur-xl shadow-xl border border-slate-700/60  transition hover:scale-105 hover:shadow-2xl flex flex-col p-4 ",children:[(0,l.jsx)("div",{className:"relative h-36 w-full overflow-hidden rounded-lg mb-3",children:(0,l.jsx)(d.default,{src:e.cover||"/default-cover.jpg",alt:e.title,fill:!0,className:"object-cover w-full h-full max-w-full",loading:"lazy"})}),(0,l.jsx)("div",{className:"font-bold text-white text-lg mb-1 line-clamp-2",children:e.title}),(0,l.jsxs)("div",{className:"text-xs text-slate-400 mb-1 flex flex-wrap gap-2",children:[e.tags&&(0,l.jsxs)("span",{children:["Tags: ",e.tags.join(", ")]}),(0,l.jsx)("span",{children:new Date(e.date).toLocaleDateString()}),e.readingTime&&(0,l.jsxs)("span",{children:["\xb7 ",e.readingTime," 分钟"]})]}),(0,l.jsx)("div",{className:"text-slate-300 text-sm line-clamp-3",children:e.description})]},e.slug))]})]})})}function h({locale:e,posts:t}){let r=(0,s.usePathname)(),[n,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),[f,b]=(0,a.useState)(0),x=[{key:"blog",href:`/${e}/blog`,label:"zh"===e?"博客":"Blog"},{key:"search",href:`/${e}/search`,label:"zh"===e?"工具":"Search"},{key:"media",href:`/${e}/media`,label:"zh"===e?"书影剧":"media"},{key:"album",href:`/${e}/album`,label:"zh"===e?"摄影":"Album"},{key:"milestone",href:`/${e}/milestone`,label:"zh"===e?"里程碑":"Milestone"},{key:"about",href:`/${e}/about`,label:"zh"===e?"关于我":"About"}],p=["zh","en"];function g(e){for(let t of p)if(e.startsWith(`/${t}/`)||e===`/${t}`)return e.replace(`/${t}`,"")||"/";return e}let v=g(r),w=e=>{let t=g(e);return v===t||v.startsWith(t+"/")};return(0,a.useEffect)(()=>{let e=()=>{b(Math.min(window.scrollY/60,1))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,a.useEffect)(()=>{if(!h)return;let e=e=>{"Escape"===e.key&&m(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[h]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("header",{className:"fixed top-0 left-0  w-full h-16 z-50 backdrop-blur-md border-b border-blue-600 transition-colors duration-300 ",style:{backgroundColor:`rgba(10, 14, 30, ${.6+.4*f})`},children:[(0,l.jsxs)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between",children:[(0,l.jsx)(o(),{href:`/${e}`,className:"text-2xl font-extrabold bg-gradient-to-r from-cyan-400 via-blue-500 to-indigo-600 bg-clip-text text-transparent select-none",children:"zh"===e?"车车":"Thomas Che Blog"}),(0,l.jsx)("div",{className:"hidden md:flex space-x-10",children:x.map(e=>(0,l.jsxs)(o(),{href:e.href,className:`relative px-3 py-2 font-semibold text-white transition-all rounded-md cursor-pointer select-none
                  ${w(e.href)?"bg-gradient-to-r from-cyan-400 to-blue-500 shadow-[0_0_15px_rgba(14,165,233,0.7)]":"hover:text-cyan-400 hover:shadow-[0_0_8px_rgba(14,165,233,0.5)]"}
                `,children:[e.label,w(e.href)&&(0,l.jsx)("span",{className:"absolute bottom-0 left-0 right-0 h-1 bg-cyan-400 rounded-full animate-pulse"})]},e.key))}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)(i,{currentLocale:e}),(0,l.jsx)("button",{onClick:()=>m(!0),"aria-label":"搜索",className:"p-2 rounded-full hover:bg-blue-700 transition-colors",children:(0,l.jsx)(c.CKj,{className:"w-6 h-6 text-white"})}),(0,l.jsx)("button",{onClick:()=>d(!n),"aria-label":"打开主菜单",className:"md:hidden p-2 rounded-md text-white hover:bg-blue-700 transition-colors",children:n?(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),n&&(0,l.jsx)("div",{className:"md:hidden fixed top-16 left-0 right-0 bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900/95 backdrop-blur-xl border-t border-blue-700/50 shadow-lg rounded-b-3xl p-4 space-y-3 z-40",children:x.map(e=>(0,l.jsx)(o(),{href:e.href,onClick:()=>d(!1),className:`block px-5 py-3 rounded-xl text-lg font-semibold transition-colors cursor-pointer select-none
                  ${w(e.href)?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-[0_0_15px_rgba(14,165,233,0.7)]":"text-gray-300 hover:text-white hover:bg-blue-800/60 hover:shadow-[0_0_12px_rgba(59,130,246,0.6)]"}
                `,children:e.label},e.key))})]}),h&&(0,l.jsx)(u,{posts:t,onClose:()=>m(!1)})]})}},58100:(e,t,r)=>{Promise.resolve().then(r.bind(r,64921)),Promise.resolve().then(r.bind(r,49278)),Promise.resolve().then(r.bind(r,40712))},64921:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var l=r(82903),n=r(66505);function o({locale:e,...t}){if(!e)throw Error(void 0);return(0,n.jsx)(l.Dk,{locale:e,...t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[339,554,215,438,209,650,358],()=>t(58100)),_N_E=e.O()}]);