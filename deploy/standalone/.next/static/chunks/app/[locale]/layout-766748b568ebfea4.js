(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{33945:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var n=r(69341),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(l),a=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,l,o;n=e,l=t,o=r[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in n?Object.defineProperty(n,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[l]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>n.createElement(u,s({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:l,size:o,title:i}=e,d=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,a),u=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&n.createElement("title",null,i),e.children)};return void 0!==o?n.createElement(o.Consumer,null,e=>t(e)):t(l)}},40712:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(66505),l=r(69341);function o(){let[e,t]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let e=()=>{let e=window.scrollY,r=document.documentElement.scrollHeight-window.innerHeight;t(Math.min(100*(r>0?e/r:0),100))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,height:"4px",backgroundColor:"#3762e3",width:"".concat(e,"vw"),transition:"width 0.05s linear",zIndex:9999}})}},49278:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var n=r(66505),l=r(60554),o=r.n(l),a=r(66887),s=r(69341);function i(e){let{currentLocale:t}=e,r=(0,a.useRouter)(),l=(0,a.usePathname)(),[o,i]=(0,s.useState)(!1),c=["en","zh"],d=(0,s.useMemo)(()=>t&&"string"==typeof t&&c.includes(t)?t:"en",[t,c]),u={en:"English",zh:"中文"},h=e=>{let t=new Date;t.setTime(t.getTime()+2592e6);let n=t.toUTCString();document.cookie="NEXT_LOCALE=".concat(e,";expires=").concat(n,";path=/");let o=l.split("/");o[1]=e;let a=o.join("/");r.push(a),i(!1)};return(0,n.jsxs)("div",{className:"relative inline-block text-left",children:[(0,n.jsxs)("button",{onClick:()=>i(!o),className:"inline-flex items-center space-x-2 rounded-lg bg-gradient-to-r from-indigo-500 via-purple-600 to-pink-500 px-4 py-2 font-semibold text-white shadow-[0_0_15px_rgba(139,92,246,0.7)] hover:shadow-[0_0_25px_rgba(139,92,246,0.9)] transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2","aria-haspopup":"true","aria-expanded":o,children:[(0,n.jsx)("span",{className:"text-xl select-none",children:"\uD83C\uDF10"}),(0,n.jsx)("span",{className:"select-none",children:u[d]||d}),(0,n.jsx)("svg",{className:"w-5 h-5 text-white transition-transform duration-300 ".concat(o?"rotate-180":"rotate-0"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1),"aria-hidden":"true"}),(0,n.jsx)("div",{className:"absolute right-0 mt-2 w-36 rounded-lg bg-black/60 backdrop-blur-md border border-purple-700 shadow-lg z-20 ring-1 ring-purple-500 ring-opacity-30 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"language-switcher",children:c.map(e=>(0,n.jsx)("button",{onClick:()=>h(e),disabled:e===d,className:"w-full px-4 py-2 text-left text-sm font-medium rounded-md transition-colors\n                  ".concat(e===d?"bg-purple-700 text-white cursor-default shadow-[0_0_10px_rgba(139,92,246,0.8)]":"text-purple-300 hover:bg-purple-600 hover:text-white"),role:"menuitem",children:u[e]},e))})]})]})}var c=r(28818),d=r(12446);function u(e){let{posts:t=[],onClose:r}=e,[l,a]=(0,s.useState)(""),i=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null==(e=i.current)||e.focus()},[]);let u=(0,s.useRef)(null);(0,s.useEffect)(()=>{function e(e){u.current&&!u.current.contains(e.target)&&r()}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]);let h=(0,s.useMemo)(()=>{if(!l.trim())return t;let e=l.trim().toLowerCase();return t.filter(t=>t.title.toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e)||t.content&&t.content.toLowerCase().includes(e)||t.tags&&t.tags.some(t=>t.toLowerCase().includes(e)))},[l,t]);return(0,n.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-start justify-center bg-black/40 backdrop-blur-sm",children:(0,n.jsxs)("div",{ref:u,className:" w-full max-w-2xl mt-8 sm:mt-24 mx-auto rounded-2xl  bg-slate-900/90 backdrop-blur-lg shadow-2xl p-6 relative border border-slate-700  max-h-[90vh] flex flex-col overflow-x-hidden ",style:{minHeight:"300px"},children:[(0,n.jsx)("button",{className:"absolute top-4 right-4 text-slate-400 hover:text-white text-2xl",onClick:r,"aria-label":"关闭",children:(0,n.jsx)(c.yGN,{})}),(0,n.jsxs)("div",{className:"flex items-center mb-6 px-2",children:[(0,n.jsx)(c.CKj,{className:"text-slate-400 w-6 h-6 mr-2"}),(0,n.jsx)("input",{ref:i,value:l,onChange:e=>a(e.target.value),placeholder:"输入关键词搜索文章…",className:"flex-1 bg-transparent outline-none text-white placeholder-slate-400 text-lg",style:{minWidth:0}})]}),(0,n.jsxs)("div",{className:" flex-1 overflow-y-auto overflow-x-hidden space-y-3 pb-2 scrollbar-thin scrollbar-thumb-rounded-full scrollbar-thumb-cyan-400/70 scrollbar-track-transparent hover:scrollbar-thumb-cyan-300/90 transition-all ",children:[0===h.length&&(0,n.jsx)("div",{className:"text-slate-400 text-center py-10",children:"没有找到相关内容"}),h.map(e=>(0,n.jsxs)(o(),{href:"/blog/".concat(e.slug),onClick:r,className:" block rounded-2xl overflow-hidden bg-slate-800/80 backdrop-blur-xl shadow-xl border border-slate-700/60  transition hover:scale-105 hover:shadow-2xl flex flex-col p-4 ",children:[(0,n.jsx)("div",{className:"relative h-36 w-full overflow-hidden rounded-lg mb-3",children:(0,n.jsx)(d.default,{src:e.cover||"/default-cover.jpg",alt:e.title,fill:!0,className:"object-cover w-full h-full max-w-full",loading:"lazy"})}),(0,n.jsx)("div",{className:"font-bold text-white text-lg mb-1 line-clamp-2",children:e.title}),(0,n.jsxs)("div",{className:"text-xs text-slate-400 mb-1 flex flex-wrap gap-2",children:[e.tags&&(0,n.jsxs)("span",{children:["Tags: ",e.tags.join(", ")]}),(0,n.jsx)("span",{children:new Date(e.date).toLocaleDateString()}),e.readingTime&&(0,n.jsxs)("span",{children:["\xb7 ",e.readingTime," 分钟"]})]}),(0,n.jsx)("div",{className:"text-slate-300 text-sm line-clamp-3",children:e.description})]},e.slug))]})]})})}function h(e){let{locale:t,posts:r}=e,l=(0,a.usePathname)(),[d,h]=(0,s.useState)(!1),[m,f]=(0,s.useState)(!1),[b,x]=(0,s.useState)(0),p=[{key:"blog",href:"/".concat(t,"/blog"),label:"zh"===t?"博客":"Blog"},{key:"search",href:"/".concat(t,"/search"),label:"zh"===t?"工具":"Search"},{key:"media",href:"/".concat(t,"/media"),label:"zh"===t?"书影剧":"media"},{key:"album",href:"/".concat(t,"/album"),label:"zh"===t?"摄影":"Album"},{key:"milestone",href:"/".concat(t,"/milestone"),label:"zh"===t?"里程碑":"Milestone"},{key:"about",href:"/".concat(t,"/about"),label:"zh"===t?"关于我":"About"}],g=["zh","en"];function v(e){for(let t of g)if(e.startsWith("/".concat(t,"/"))||e==="/".concat(t))return e.replace("/".concat(t),"")||"/";return e}let w=v(l),j=e=>{let t=v(e);return w===t||w.startsWith(t+"/")};return(0,s.useEffect)(()=>{let e=()=>{x(Math.min(window.scrollY/60,1))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,s.useEffect)(()=>{if(!m)return;let e=e=>{"Escape"===e.key&&f(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[m]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("header",{className:"fixed top-0 left-0 w-full h-16 z-50 backdrop-blur-md border-b border-blue-600 transition-colors duration-300",style:{backgroundColor:"rgba(10, 14, 30, ".concat(.6+.4*b,")")},children:[(0,n.jsxs)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between",children:[(0,n.jsx)(o(),{href:"/".concat(t),className:"text-2xl font-extrabold bg-gradient-to-r from-cyan-400 via-blue-500 to-indigo-600 bg-clip-text text-transparent select-none",children:"zh"===t?"车车":"Thomas Che Blog"}),(0,n.jsx)("div",{className:"hidden md:flex space-x-10",children:p.map(e=>(0,n.jsxs)(o(),{href:e.href,className:"relative px-3 py-2 font-semibold text-white transition-all rounded-md cursor-pointer select-none\n                  ".concat(j(e.href)?"bg-gradient-to-r from-cyan-400 to-blue-500 shadow-[0_0_15px_rgba(14,165,233,0.7)]":"hover:text-cyan-400 hover:shadow-[0_0_8px_rgba(14,165,233,0.5)]","\n                "),children:[e.label,j(e.href)&&(0,n.jsx)("span",{className:"absolute bottom-0 left-0 right-0 h-1 bg-cyan-400 rounded-full animate-pulse"})]},e.key))}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(i,{currentLocale:t}),(0,n.jsx)("button",{onClick:()=>f(!0),"aria-label":"搜索",className:"p-2 rounded-full hover:bg-blue-700 transition-colors",children:(0,n.jsx)(c.CKj,{className:"w-6 h-6 text-white"})}),(0,n.jsx)("button",{onClick:()=>h(!d),"aria-label":"打开主菜单",className:"md:hidden p-2 rounded-md text-white hover:bg-blue-700 transition-colors",children:d?(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),d&&(0,n.jsx)("div",{className:"md:hidden fixed top-16 left-0 right-0 bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900/95 backdrop-blur-xl border-t border-blue-700/50 shadow-lg rounded-b-3xl p-4 space-y-3 z-40",children:p.map(e=>(0,n.jsx)(o(),{href:e.href,onClick:()=>h(!1),className:"block px-5 py-3 rounded-xl text-lg font-semibold transition-colors cursor-pointer select-none\n                  ".concat(j(e.href)?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-[0_0_15px_rgba(14,165,233,0.7)]":"text-gray-300 hover:text-white hover:bg-blue-800/60 hover:shadow-[0_0_12px_rgba(59,130,246,0.6)]","\n                "),children:e.label},e.key))})]}),m&&(0,n.jsx)(u,{posts:r,onClose:()=>f(!1)})]})}},58100:(e,t,r)=>{Promise.resolve().then(r.bind(r,64921)),Promise.resolve().then(r.bind(r,49278)),Promise.resolve().then(r.bind(r,40712))},64921:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(82903),l=r(66505);function o(e){let{locale:t,...r}=e;if(!t)throw Error(void 0);return(0,l.jsx)(n.Dk,{locale:t,...r})}}},e=>{var t=t=>e(e.s=t);e.O(0,[339,554,215,438,209,650,358],()=>t(58100)),_N_E=e.O()}]);